<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ranking Semanal - Placar dos Times</title>
  <style>
    body {
      background: #111;
      color: #fff;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
    }

    h1 {
      font-size: 36px;
      margin-bottom: 20px;
      color: gold;
      text-shadow: 2px 2px 5px #000;
    }

    #ranking {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .time {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #222;
      border: 2px solid #444;
      border-radius: 15px;
      padding: 10px 20px;
      width: 300px;
      margin: 10px 0;
      transition: 0.3s;
    }

    .time.top1 {
      border-color: gold;
      box-shadow: 0 0 15px gold;
    }

    .time img {
      width: 40px;
      height: 40px;
      margin-right: 10px;
    }

    .nome-time {
      flex: 1;
      text-align: left;
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 8px;
      justify-content: flex-start;
    }

    .coroa {
      font-size: 24px;
      color: gold;
      text-shadow: 0 0 5px #ffd700;
    }

    .pontos {
      font-size: 20px;
    }

    #controls {
      margin-top: 30px;
    }

    button {
      margin: 5px;
      padding: 10px 25px;
      font-size: 18px;
      border-radius: 8px;
      background: #28a745;
      color: white;
      border: none;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background: #218838;
    }

    #btnAtualizar {
      background: #007bff;
    }

    #btnAtualizar:hover {
      background: #0056b3;
    }

    /* BotÃµes ocultos inicialmente */
    #controls>button {
      display: none;
    }

    textarea {
      margin-top: 20px;
      width: 320px;
      height: 150px;
      border-radius: 8px;
      padding: 10px;
      resize: none;
      font-family: monospace;
      font-size: 14px;
      background: #222;
      color: white;
      border: none;
    }
  </style>
</head>

<body>
  <h1>Ranking Semanal</h1>
  <div id="ranking"></div>

  <div id="unlock-section">
    <input type="password" id="senhaInput" placeholder="Digite a senha para liberar controles"
      style="padding: 10px; font-size: 16px; border-radius: 8px; border:none; margin-bottom: 10px;" />
    <button id="btnUnlock">Desbloquear</button>
  </div>

  <div id="controls">
    <button id="btnAtualizar">Atualizar Placar</button>
    <button id="btnResetar">Resetar Ranking</button>
    <button id="btnTestar">Testar Pontos (+1 todos)</button>
    <button id="btnAddPontos">Adicionar pontos</button>
    <button id="btnRemoverPontos">Remover pontos</button>
    <button id="btnExportar">Exportar Ranking (HTML)</button>
  </div>

  <textarea id="exportArea" readonly placeholder="Aqui aparecerÃ¡ o cÃ³digo HTML para copiar..."></textarea>

  <script>
    const times = [
      {nome: "Flamengo", cor: "#d50000", escudo: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Flamengo_braz_logo.svg/250px-Flamengo_braz_logo.svg.png"},
      {nome: "Palmeiras", cor: "#1b5e20", escudo: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/10/Palmeiras_logo.svg/1200px-Palmeiras_logo.svg.png"},
      {nome: "Corinthians", cor: "#212121", escudo: "https://upload.wikimedia.org/wikipedia/pt/thumb/b/b4/Corinthians_simbolo.png/120px-Corinthians_simbolo.png"},
      {nome: "SÃ£o Paulo", cor: "#e53935", escudo: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Brasao_do_Sao_Paulo_Futebol_Clube.svg/250px-Brasao_do_Sao_Paulo_Futebol_Clube.svg.png"},
      {nome: "Vasco da Gama", cor: "#000000", escudo: "https://upload.wikimedia.org/wikipedia/pt/thumb/a/ac/CRVascodaGama.png/120px-CRVascodaGama.png"},
      {nome: "GrÃªmio", cor: "#0d47a1", escudo: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Gremio_logo.svg/250px-Gremio_logo.svg.png"},
      {nome: "Internacional", cor: "#b71c1c", escudo: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/ae/SC_Internacional_Brazil_Logo.svg/250px-SC_Internacional_Brazil_Logo.svg.png"},
    ];

    let pontuacoes = JSON.parse(localStorage.getItem("pontuacoes")) || {};

    times.forEach(time => {
      if (!(time.nome in pontuacoes)) pontuacoes[time.nome] = 0;
    });

    function salvarPontuacoes() {
      localStorage.setItem("pontuacoes", JSON.stringify(pontuacoes));
    }

    function atualizarRanking() {
      const rankingDiv = document.getElementById("ranking");
      rankingDiv.innerHTML = "";

      const rankingOrdenado = [...times].sort((a, b) => pontuacoes[b.nome] - pontuacoes[a.nome]);

      rankingOrdenado.forEach((time, index) => {
        const divTime = document.createElement("div");
        divTime.className = "time";
        if (index === 0) divTime.classList.add("top1");
        divTime.style.borderColor = time.cor;

        const coroaHtml = index === 0 ? '<span class="coroa">ðŸ‘‘</span>' : "";

        divTime.innerHTML = `
          <img src="${time.escudo}" alt="${time.nome}">
          <div class="nome-time">${coroaHtml}${time.nome}</div>
          <div class="pontos">${pontuacoes[time.nome]} pts</div>
        `;

        rankingDiv.appendChild(divTime);
      });
    }

    function resetarRanking() {
      if (!confirm("Tem certeza que deseja resetar o ranking semanal?")) return;
      times.forEach(time => {
        pontuacoes[time.nome] = 0;
      });
      salvarPontuacoes();
      atualizarRanking();
    }

    function testarPontos() {
      times.forEach(time => {
        pontuacoes[time.nome]++;
      });
      salvarPontuacoes();
      atualizarRanking();
    }

    function adicionarPontos() {
      const timeNome = prompt("Digite o nome do time para adicionar pontos (ex: Flamengo):");
      if (!timeNome) return;

      const time = times.find(t => t.nome.toLowerCase() === timeNome.toLowerCase());
      if (!time) {
        alert("Time nÃ£o encontrado. Tente novamente.");
        return;
      }

      const quantidadeStr = prompt("Digite a quantidade de pontos para adicionar (nÃºmero inteiro):");
      const quantidade = parseInt(quantidadeStr, 10);

      if (isNaN(quantidade) || quantidade <= 0) {
        alert("Quantidade invÃ¡lida. Digite um nÃºmero inteiro positivo.");
        return;
      }

      pontuacoes[time.nome] += quantidade;
      salvarPontuacoes();
      atualizarRanking();
      alert(`+${quantidade} pontos adicionados ao time ${time.nome}`);
    }

    function removerPontos() {
      const timeNome = prompt("Digite o nome do time para remover pontos (ex: Flamengo):");
      if (!timeNome) return;

      const time = times.find(t => t.nome.toLowerCase() === timeNome.toLowerCase());
      if (!time) {
        alert("Time nÃ£o encontrado. Tente novamente.");
        return;
      }

      const quantidadeStr = prompt("Digite a quantidade de pontos para remover (nÃºmero inteiro):");
      const quantidade = parseInt(quantidadeStr, 10);

      if (isNaN(quantidade) || quantidade <= 0) {
        alert("Quantidade invÃ¡lida. Digite um nÃºmero inteiro positivo.");
        return;
      }

      pontuacoes[time.nome] = Math.max(0, pontuacoes[time.nome] - quantidade);
      salvarPontuacoes();
      atualizarRanking();
      alert(`-${quantidade} pontos removidos do time ${time.nome}`);
    }

    function exportarRanking() {
      const rankingOrdenado = [...times].sort((a, b) => pontuacoes[b.nome] - pontuacoes[a.nome]);

      const style = `
        <style>
          body { background: #111; color: #fff; font-family: Arial, sans-serif; text-align: center; padding: 20px; }
          h2 { font-size: 36px; margin-bottom: 20px; color: gold; text-shadow: 2px 2px 5px #000; }
          .ranking { display: flex; flex-direction: column; align-items: center; max-width: 600px; margin: 0 auto; }
          .time {
            display: flex; align-items: center; justify-content: space-between;
            background: #222; border: 2px solid #444; border-radius: 15px;
            padding: 10px 20px; width: 100%; margin: 10px 0;
            transition: 0.3s;
          }
          .time.top1 { border-color: gold; box-shadow: 0 0 15px gold; }
          .time img { width: 40px; height: 40px; margin-right: 10px; }
          .nome-time {
            flex: 1; text-align: left; font-weight: bold;
            display: flex; align-items: center; gap: 8px; justify-content: flex-start;
          }
          .coroa {
            font-size: 24px;
            color: gold;
            text-shadow: 0 0 5px #ffd700;
          }
          .pontos { font-size: 20px; }
        </style>
      `;

      let html = `
        <!DOCTYPE html>
        <html lang="pt-BR">
        <head>
          <meta charset="UTF-8" />
          <title>Ranking Semanal</title>
          ${style}
        </head>
        <body>
          <h2>Ranking Semanal</h2>
          <div class="ranking">
      `;

      rankingOrdenado.forEach((time, index) => {
        const coroaHtml = index === 0 ? '<span class="coroa">ðŸ‘‘</span>' : "";
        html += `
          <div class="time ${index === 0 ? "top1" : ""}" style="border-color: ${time.cor}">
            <img src="${time.escudo}" alt="${time.nome}">
            <div class="nome-time">${coroaHtml}${time.nome}</div>
            <div class="pontos">${pontuacoes[time.nome]} pts</div>
          </div>
        `;
      });

      html += `
          </div>
        </body>
        </html>
      `;

      const exportArea = document.getElementById("exportArea");
      exportArea.value = html.trim();
      alert("Ranking exportado com design completo e coroa! Copie o cÃ³digo HTML abaixo para usar no Blogger.");
    }

    function desbloquearControles() {
      const senhaInput = document.getElementById("senhaInput");
      const senha = senhaInput.value.trim();
      const senhaCorreta = "1234"; // Mude aqui a senha

      if (senha === senhaCorreta) {
        document.getElementById("unlock-section").style.display = "none";
        const controles = document.querySelectorAll("#controls > button");
        controles.forEach(botao => (botao.style.display = "inline-block"));
        alert("Controles desbloqueados!");
      } else {
        alert("Senha incorreta!");
      }
      senhaInput.value = "";
    }

    // Event listeners
    document.getElementById("btnUnlock").addEventListener("click", desbloquearControles);
    document.getElementById("btnAtualizar").addEventListener("click", atualizarRanking);
    document.getElementById("btnResetar").addEventListener("click", resetarRanking);
    document.getElementById("btnTestar").addEventListener("click", testarPontos);
    document.getElementById("btnAddPontos").addEventListener("click", adicionarPontos);
    document.getElementById("btnRemoverPontos").addEventListener("click", removerPontos);
    document.getElementById("btnExportar").addEventListener("click", exportarRanking);

    // Inicializa a pontuaÃ§Ã£o na tela
    atualizarRanking();
  </script>
</body>

</html>